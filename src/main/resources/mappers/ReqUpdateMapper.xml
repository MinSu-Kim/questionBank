<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.yi.mapper.ReqUpdate">

	<select id="selectByQuestionCode" resultType="ReqUpdateVO">
		SELECT *
		FROM requpdate
		where question=#{questionCode}
		order by req_code desc
	</select>
	
	<insert id="insert">
		INSERT INTO requpdate
		(question, content, ori_correct, req_correct, state, writer, regdate, moddate)
		VALUES(#{question.questionCode}, #{content}, #{oriCorrect}, #{reqCorrect}, #{state}, #{writer.customerCode}, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP)
	</insert>
	
	<update id="update">
		UPDATE requpdate
		SET content=#{content}, ori_correct=#{oriCorrect}, req_correct=#{reqCorrect}, state=#{state}, moddate=CURRENT_TIMESTAMP
		WHERE req_code=#{reqCode}
	</update>
	
	<delete id="delete">
		DELETE FROM requpdate
		WHERE req_code=#{reqCode}
	</delete>
	
	<select id="selectByCode" resultType="ReqUpdateVO">
		SELECT *
		FROM requpdate
		where req_code=#{reqCode}
	</select>
</mapper>






















